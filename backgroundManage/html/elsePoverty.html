<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>贫困户其他致贫原因</title>
        <script src="../js/echarts.js"></script>
        <script src="../js/commer.js"></script>
        <link rel="stylesheet" href="../css/pintuer.css">
        <link rel="stylesheet" href="../css/admin.css">
        <style>
            body,html{
                width:99%;
                height: 98%;
                font-family: "arial rounded mt bold";
                font-size: 12px;
            }
            .container{display: flex;align-items: center;height: 100%;width:100%;}
            #piePoorAttribute,#barPoorAttribute{width: 100%;height: 80%;}
        </style>
    </head>
    <body>
        <div class="panel admin-panel admin-panel1">
        <div class="panel-head"><strong><span class="icon-key"></span> 贫困户其他致贫原因</strong></div>
    
    <input class="btn button" id="btnPrint" type="button" value="打印预览" onclick='preview(1)' /> 
    <input class="btn button" id="btnPrint" type="button" value="打印" onclick="javascript:window.print();" /> 

        <div class="container">
          <div id="piePoorAttribute" style="margin-right: 10%;"></div>
          <div id="barPoorAttribute"></div>
        </div>
    </div>
        <script type="text/javascript">
          var pieElsePovertyChart=echarts.init(document.getElementById("piePoorAttribute"));
          var pieElsePovertyOption = {
              tooltip : {
                  trigger: 'item',
                  formatter: "{a} <br/>{b} : {c}户 ({d}%)"
              },
              legend: [
                  {
                      x:'center',
                      top:'0',
                      data: ['因灾','缺水','缺土地','缺技术','缺劳力','缺资金','因婚'],
                      textStyle: {
                          fontSize:16,
                      }
                  },
                  {
                      x:'center',
                      top:'4%',
                      data:['交通条件落后','自身发展动力不足'],
                      textStyle: {
                          fontSize:16,
                      }
                  }
              ],
              series : [
                  {
                      name: '其他致贫原因',
                      type: 'pie',
                      radius : '55%',
                      center: ['50%', '60%'],
                      data:[
                          {value:335, name:'因灾'},
                          {value:310, name:'缺水'},
                          {value:234, name:'缺土地'},
                          {value:135, name:'缺技术'},
                          {value:154, name:'缺劳力'},
                          {value:310, name:'缺资金'},
                          {value:234, name:'因婚'},
                          {value:135, name:'交通条件落后'},
                          {value:548, name:'自身发展动力不足'}
                      ],
                      label:{fontSize:16},
                      itemStyle: {
                          emphasis: {
                              shadowBlur: 10,
                              shadowOffsetX: 0,
                              shadowColor: 'rgba(0, 0, 0, 0.5)'
                          }
                      }
                  }
              ],
              color: ['#2a89bd','#39A2B2','#20B8B4','#6ED1B2','#68E39D','#A6F093','#F9CF86','#FD9FB6','#ee7694']
          };
          pieElsePovertyChart.setOption(pieElsePovertyOption);

           /**************************************堆积柱状图**************************************/
          var barElsePovertyChart=echarts.init(document.getElementById("barPoorAttribute"));                
          var barElsePovertyOption = {
              tooltip: {
                  formatter: "{a} <br/>{b}: {c}户" // 这里是鼠标移上去的显示数据
              },
              legend: [
                  {
                      x:'center',
                      top:'0',
                      data: ['因灾','缺水','缺土地','缺技术','缺劳力','缺资金','因婚'],
                      textStyle: {
                          fontSize:16,
                      }
                  },
                  {
                      x:'center',
                      top:'4%',
                      data:['交通条件落后','自身发展动力不足'],
                      textStyle: {
                          fontSize:16,
                      }
                  }
              ],
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      axisLabel: {
                          interval:0,
                          rotate:40,
                          textStyle:{
                              fontSize:16
                          }
                      },
                      data : ['周至县','蓝田县','鄠邑区','长安区','临潼区','西咸新区','灞桥区','高陵区','国际港务区','阎良区'],
                  }
              ],
              yAxis : {
                  type: 'value',
                  max: 7500,
                  name:'(户)',
                  axisLabel:{
                      textStyle:{
                          fontSize:'16'
                      }
                  },
                  splitLine: {
                      show: true,
                      lineStyle: {
                          color: ['#B1C0D2']
                      }
                  },
              },
              series : [
                  {
                      name:'因灾',
                      type:'bar',
                      barWidth : 40,
                      stack: '广告',
                      data:[21,27,10,2,6,9,0,0,0,0]
                  },
                  {
                      name:'缺水',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[6,5,0,0,5,0,0,0,0,0]
                  },
                  {
                      name:'缺土地',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[45,15,1,0,0,1,0,0,0,0]
                  },
                  {
                      name:'缺技术',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[1127,1029,282,93,131,118,54,4,1,0]
                  },
                  {
                      name:'缺劳力',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[1463,1211,776,1037,811,469,214,136,24,3]
                  },
                  {
                      name:'缺资金',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[2086,2401,550,534,557,248,116,70,0,0]
                  },
                  {
                      name:'因婚',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[76,50,16,15,15,7,1,1,0,0]
                  },
                  {
                      name:'交通条件落后',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[92,123,23,2,16,2,0,0,0,0]
                  },
                  {
                      name:'自身发展动力不足',
                      type:'bar',
                      barWidth : 15,
                      stack: '广告',
                      data:[760,926,205,251,105,42,20,38,9,2]
                  }
              ],
              color: ['#2a89bd','#39A2B2','#20B8B4','#6ED1B2','#68E39D','#A6F093','#F9CF86','#FD9FB6','#ee7694']
          };
          barElsePovertyChart.setOption(barElsePovertyOption);

           function preview(oper) { 
            // $('input:eq(0)').hide();
            // $('input:eq(1)').hide();
            if (oper < 10) { 
                bdhtml=window.document.body.innerHTML;//获取当前页的html代码 
                sprnstr="<!--startprint"+oper+"-->";//设置打印开始区域 
                eprnstr="<!--endprint"+oper+"-->";//设置打印结束区域 
                prnhtml=bdhtml.substring(bdhtml.indexOf(sprnstr)+18); //从开始代码向后取html 
                 
                prnhtml=prnhtml.substring(0,prnhtml.indexOf(eprnstr));//从结束代码向前取html 
                window.document.body.innerHTML=prnhtml; 
                window.print(); 
                window.document.body.innerHTML=bdhtml; 
            } else { 
                window.print(); 
            } 
        } 
        </script>
    </body>
</html>